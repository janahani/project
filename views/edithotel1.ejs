<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <% if(hotel[0]!=="" ) {%>
        <title>Edit <%=hotel[0].Name%>
        </title>

        <link rel="stylesheet" href="/css/styleUsers.css">
        <link rel="stylesheet" href="/css/styleAddHotel.css">
        <link rel="stylesheet" href="/css/styleAdminDashboard.css">
        <link rel="stylesheet" href="/css/styleEditHotels.css">
        <%}%>
</head>

<body>

    <script src="https://kit.fontawesome.com/ee4053c9b9.js" crossorigin="anonymous"></script>

    <% if(hotel[0]!=="" ){%>
        <div class="h">
            <div class="admin">ADMIN</div>
        </div>

        <div class="main-content">

            <%- include("partials/adminHeader.ejs") %>


                <div class="right">
                    <div id="cont">
                        <div>
                            <form action="/updated/<%=hotel[0].Name%>" method="post" id="form">
                                <input type="text" style="display: none;" value="<%=hotel[0]._id%>">
                                <div>
                                    <h2>Hotel Name</h2>
                                </div>
                                <div>
                                    <input type="text" id="hotelname" name="name" value='<%=hotel[0].Name%>'>
                                </div>

                                <div>
                                    <h2>Location</h2>
                                </div>
                                <div>
                                    <input type="text" id="loc" name="location" value='<%=hotel[0].Location%>'>

                                </div>
                                <div>
                                    <div>
                                        <h2>Images</h2>
                                    </div>
                                    <div>
                                        <div id="imagess">
                                            <% let id=1 %>
                                                <% hotel[0].Picture.forEach((pic)=>{%>
                                                    <img onclick='showInput("imginput<%=id%>","img<%=id%>")'
                                                        src="/images/Hotels/<%=pic%>" alt="<%=pic%>" id='img<%=id%>'
                                                        style="width:160px; height:130px">
                                                    <span>
                                                        <input type="file" name="imginput<%=id%>" id="imginput<%=id%>"
                                                            hidden>
                                                    </span>
                                                    <% id++%>
                                                        <%})%>
                                        </div>
                                        <input type="text" style="display: none;" id="imgpaths" name="imgpaths">
                                    </div>
                                </div>

                                <div>
                                    <h2>About</h2>
                                </div>
                                <div>
                                    <textarea id="about" name="about" cols="100"
                                        rows="10"><%=hotel[0].About%></textarea>

                                </div>

                                <div>
                                    <h2>Property Amenities</h2>
                                </div>
                                <div class="item" id="item3">
                                    <ul id="i4" name="hotelAmen">
                                        <% id=1 %>
                                            <% let amens=hotel[0].PropertyAmen.split(",")%>
                                                <% amens.forEach((amen)=>{%>
                                                    <% if(amen.length!=0){%>
                                                        <li id="amenli<%=id%>">
                                                            <%=amen.trim()%>
                                                        </li>
                                                        <span><button type="button" id="delitem"
                                                                onclick="removeItem('amenli<%=id%>',this)">remove</button></span>
                                                        <% id++%>
                                                            <%}%>
                                                                <%})%>
                                    </ul>
                                </div>
                                <div>
                                    <textarea name="finalamens" id="finalamens" cols="15" rows="5"
                                        ></textarea>
                                    <input type="text" id="addedamen" name="propamentext">
                                    <button id="add" type='button'
                                        onclick="addItem('addedamen','finalamens','amenlinew','i4')">+</button>
                                </div>



                                <div>
                                    <h2>Room Features</h2>
                                </div>
                                <div class="item" id="item">
                                    <ul id="i5">
                                        <% id=1 %>
                                            <% let feats=hotel[0].RoomFeatures.split(",")%>
                                                <% feats.forEach((feat)=>{%>
                                                    <% if(feat.length!=0){%>
                                                        <li id="featli<%=id%>">
                                                            <%=feat.trim()%>
                                                        </li>
                                                        <span><button type="button" id="delitem"
                                                                onclick="removeItem('featli<%=id%>',this)">remove</button></span>

                                                        <% id++%>
                                                            <%}%>
                                                                <%})%>
                                    </ul>
                                </div>
                                <h3>Add Items</h3>
                                <div>
                                    <textarea name="finalfeats" id="finalfeats" cols="15" rows="5"
                                        ></textarea>
                                    <input type="text" id="addedfeat" name="roomfeattext">
                                    <button id="add2" type='button'
                                        onclick="addItem('addedfeat','finalfeats','featlinew','i5')">+</button>
                                </div>



                                <div>
                                    <h2>Room Types</h2>
                                </div>
                                <div class="item" id="item2">
                                    <ul id="i6">
                                        <% id=1 %>
                                            <% let types=hotel[0].RoomTypes%>
                                                <% types.forEach((type)=>{%>
                                                    <% if(type.length!=0){%>
                                                        <li id="typeli<%=id%>">
                                                            <%=type.Name%> - <%=type.Price%>LE
                                                        </li>
                                                        <button type="button" id="delitem<%=id%>" onclick="removeItem(this.id,'typeli<%=id%>','updatebut<%=id%>')">remove</button>
                                                        <button type="button" id="updatebut<%=id%>" onclick="updateType('typeli<%=id%>')">update</button>
                                                        <% id++%>
                                                            <%}%>
                                                                <%})%>
                                    </ul>
                                    <div id="showedit" style="display: none;">
                                        <h4>New Type:</h4>
                                        <input type="text" id="edittype">
                                        <h4>New Price:</h4>
                                        <input type="number" id="editprice">
                                        <button type="button" onclick="updateDone()">done</button>
                                    </div>
                                </div>
                                <div id="addtype">
                                    <input type="text" id="addedtype" name="roomtypetext">
                                    <button class='plus' id="add" type='button'
                                        onclick="addType()">+</button>
                                </div>

                                <div id="showprice" style="display: none;">
                                    <h4>Enter price per night </h4>
                                    <input type="number" id="price" name="typeprice">
                                    <button class='plus' id="done" type='button' onclick="donez('typeli','i6')" style="width:100px"s>done</button>

                                </div>
                                <div id="errors">
                                    <span class='error-message' id="errortype"></span>
                                <span id="success" style="color:green"></span>
                                </div>
                                

                                <textarea name="finalprices" id="finalprices" cols="15" rows="5"
                                 ></textarea>
                                <textarea name="finaltypes" id="finaltypes" cols="15" rows="5"
                                 ></textarea>



                                <div id="buttons">
                                    <span>
                                        <button type="submit">Submit</button>
                                        <button type="button" onclick="location.href='/edithotels'"> Back</button>
                                    </span>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
        </div>
        <%}%>
            <script src="/js/EditHotels.js"></script>
</body>

</html>